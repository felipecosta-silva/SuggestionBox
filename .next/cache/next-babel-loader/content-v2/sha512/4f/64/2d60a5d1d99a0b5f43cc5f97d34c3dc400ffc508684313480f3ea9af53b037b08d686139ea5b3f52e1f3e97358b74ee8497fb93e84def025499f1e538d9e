{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../Credentials.json';\nconst doc = new GoogleSpreadsheet('1f3vtsBEe2AaP0gtzy2wh_OxmGtu9t2FYYbanro8EeCo');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[2];\n    await sheet.loadCells('B4:B6');\n    const mostrarPromocaoCell = sheet.getCell(3, 1);\n    const textPromocaoCell = sheet.getCell(5, 1);\n    res.end(JSON.stringify({\n      showCoupon: mostrarPromocaoCell.value === 'VERDADEIRO',\n      message: textPromocaoCell.value\n    }));\n  } catch (err) {\n    res.end(JSON.stringify({\n      showCoupon: false,\n      message: ''\n    }));\n  }\n});","map":{"version":3,"sources":["C:/Users/felip/Documents/Projetos/SuggestionBox/pages/api/get-promo.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","loadCells","mostrarPromocaoCell","getCell","textPromocaoCell","end","JSON","stringify","showCoupon","value","message","err"],"mappings":"AAAA,SAAQA,iBAAR,QAAgC,oBAAhC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAEA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAEjC,MAAG;AACD,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMD,KAAK,CAACE,SAAN,CAAgB,OAAhB,CAAN;AAEA,UAAMC,mBAAmB,GAAGH,KAAK,CAACI,OAAN,CAAc,CAAd,EAAgB,CAAhB,CAA5B;AACA,UAAMC,gBAAgB,GAAGL,KAAK,CAACI,OAAN,CAAc,CAAd,EAAgB,CAAhB,CAAzB;AAGAP,IAAAA,GAAG,CAACS,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACrBC,MAAAA,UAAU,EAAEN,mBAAmB,CAACO,KAApB,KAA8B,YADrB;AAErBC,MAAAA,OAAO,EAAEN,gBAAgB,CAACK;AAFL,KAAf,CAAR;AAKD,GAfD,CAeC,OAAOE,GAAP,EAAW;AACVf,IAAAA,GAAG,CAACS,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAe;AACvBC,MAAAA,UAAU,EAAE,KADW;AAEvBE,MAAAA,OAAO,EAAE;AAFc,KAAf,CAAR;AAID;AAGF,CAzBD","sourcesContent":["import {GoogleSpreadsheet} from 'google-spreadsheet'\r\nimport credentials from '../../Credentials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('1f3vtsBEe2AaP0gtzy2wh_OxmGtu9t2FYYbanro8EeCo')\r\n\r\nexport default async (req, res) => {\r\n\r\n  try{\r\n    await doc.useServiceAccountAuth(credentials)\r\n    await doc.loadInfo()\r\n    const sheet = doc.sheetsByIndex[2]\r\n    await sheet.loadCells('B4:B6')\r\n\r\n    const mostrarPromocaoCell = sheet.getCell(3,1)\r\n    const textPromocaoCell = sheet.getCell(5,1)\r\n\r\n\r\n    res.end(JSON.stringify({\r\n      showCoupon: mostrarPromocaoCell.value === 'VERDADEIRO',\r\n      message: textPromocaoCell.value\r\n    })) \r\n\r\n  }catch (err){\r\n    res.end(JSON.stringify({\r\n    showCoupon: false,\r\n    message: ''\r\n  }))\r\n  }\r\n\r\n  \r\n}"]},"metadata":{},"sourceType":"module"}