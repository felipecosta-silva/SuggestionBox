{"ast":null,"code":"import { GoogleSpreadsheet } from 'google-spreadsheet';\nimport credentials from '../../Credentials.json';\nconst doc = new GoogleSpreadsheet('1f3vtsBEe2AaP0gtzy2wh_OxmGtu9t2FYYbanro8EeCo');\nexport default (async (req, res) => {\n  try {\n    await doc.useServiceAccountAuth(credentials);\n    await doc.loadInfo();\n    const sheet = doc.sheetsByIndex[1];\n    const data = JSON.parse(req.body);\n    await sheet.addRow({\n      Nome: data.Nome,\n      Email: data.Email,\n      Whatsapp: data.Whatsapp,\n      Cupom: 'abc123',\n      Promo: 'asdfqwert'\n    });\n    res.end(req.body);\n  } catch (err) {\n    console.log(err);\n    res.end('error');\n  }\n});","map":{"version":3,"sources":["C:/Users/felip/Documents/Projetos/SuggestionBox/pages/api/save.js"],"names":["GoogleSpreadsheet","credentials","doc","req","res","useServiceAccountAuth","loadInfo","sheet","sheetsByIndex","data","JSON","parse","body","addRow","Nome","Email","Whatsapp","Cupom","Promo","end","err","console","log"],"mappings":"AAAA,SAAQA,iBAAR,QAAgC,oBAAhC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AAEA,MAAMC,GAAG,GAAG,IAAIF,iBAAJ,CAAsB,8CAAtB,CAAZ;AAGA,gBAAe,OAAOG,GAAP,EAAYC,GAAZ,KAAoB;AAEjC,MAAG;AACD,UAAMF,GAAG,CAACG,qBAAJ,CAA0BJ,WAA1B,CAAN;AACA,UAAMC,GAAG,CAACI,QAAJ,EAAN;AACA,UAAMC,KAAK,GAAGL,GAAG,CAACM,aAAJ,CAAkB,CAAlB,CAAd;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACS,IAAf,CAAb;AACA,UAAML,KAAK,CAACM,MAAN,CAAa;AACjBC,MAAAA,IAAI,EAAEL,IAAI,CAACK,IADM;AAEjBC,MAAAA,KAAK,EAAEN,IAAI,CAACM,KAFK;AAGjBC,MAAAA,QAAQ,EAAEP,IAAI,CAACO,QAHE;AAIjBC,MAAAA,KAAK,EAAE,QAJU;AAKjBC,MAAAA,KAAK,EAAE;AALU,KAAb,CAAN;AAOAd,IAAAA,GAAG,CAACe,GAAJ,CAAQhB,GAAG,CAACS,IAAZ;AACD,GAbD,CAaC,OAAOQ,GAAP,EAAW;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAhB,IAAAA,GAAG,CAACe,GAAJ,CAAQ,OAAR;AACD;AAEF,CApBD","sourcesContent":["import {GoogleSpreadsheet} from 'google-spreadsheet'\r\nimport credentials from '../../Credentials.json'\r\n\r\nconst doc = new GoogleSpreadsheet('1f3vtsBEe2AaP0gtzy2wh_OxmGtu9t2FYYbanro8EeCo')\r\n\r\n\r\nexport default async (req, res) => {\r\n\r\n  try{\r\n    await doc.useServiceAccountAuth(credentials)\r\n    await doc.loadInfo()\r\n    const sheet = doc.sheetsByIndex[1]\r\n    const data = JSON.parse(req.body)\r\n    await sheet.addRow({\r\n      Nome: data.Nome,\r\n      Email: data.Email,\r\n      Whatsapp: data.Whatsapp,\r\n      Cupom: 'abc123',\r\n      Promo: 'asdfqwert'\r\n    })\r\n    res.end(req.body)\r\n  }catch (err){\r\n    console.log(err)\r\n    res.end('error')\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}